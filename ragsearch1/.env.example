# RAGSearch1 Environment Variables

# ====================
# CORE SETTINGS
# ====================
APP_NAME=RAGSearch1
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true

# Security
SECRET_KEY=your-secret-key-here-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ====================
# DATABASES
# ====================

# PostgreSQL (Metadata)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=ragsearch1
POSTGRES_USER=ragsearch1
POSTGRES_PASSWORD=your-postgres-password-here

# Redis (Cache)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-here
REDIS_DB=0
CACHE_TTL=3600

# ChromaDB (Vector Database)
CHROMA_HOST=chromadb
CHROMA_PORT=8001
CHROMA_PERSIST_DIR=/data/chromadb

# ====================
# AI/ML SETTINGS
# ====================

# OpenAI (para embeddings y completions)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

# Langchain
LANGCHAIN_TRACING_V2=false
LANGCHAIN_API_KEY=your-langchain-api-key-optional

# ====================
# BANKING APIs
# ====================

# Plaid (USA, México, UK, Europa)
PLAID_CLIENT_ID=your-plaid-client-id
PLAID_SECRET=your-plaid-secret
PLAID_ENV=sandbox  # sandbox, development, production
PLAID_COUNTRY_CODES=US,MX,CA
PLAID_PRODUCTS=auth,transactions,identity

# Belvo (Latinoamérica)
BELVO_SECRET_ID=your-belvo-secret-id
BELVO_SECRET_PASSWORD=your-belvo-secret-password
BELVO_ENV=sandbox  # sandbox, development, production
BELVO_TIMEOUT=30000

# Yodlee (Global)
YODLEE_CLIENT_ID=your-yodlee-client-id
YODLEE_SECRET=your-yodlee-secret
YODLEE_ENV=sandbox

# ====================
# CRYPTO APIs
# ====================

# ccxt (100+ exchanges)
CCXT_ENABLE=true
CCXT_EXCHANGES=binance,coinbase,kraken,bitso,mercadobitcoin
CCXT_TIMEOUT=30000
CCXT_RATELIMIT=true

# CoinGecko
COINGECKO_API_KEY=your-coingecko-api-key-optional
COINGECKO_DEMO_MODE=true

# CoinMarketCap
COINMARKETCAP_API_KEY=your-coinmarketcap-api-key-optional

# Blockchain APIs
INFURA_PROJECT_ID=your-infura-project-id
INFURA_PROJECT_SECRET=your-infura-secret
ALCHEMY_API_KEY=your-alchemy-api-key
WEB3_PROVIDER_URI=https://mainnet.infura.io/v3/YOUR-PROJECT-ID

# ====================
# FOREX APIs
# ====================

# ExchangeRate-API
EXCHANGERATE_API_KEY=your-exchangerate-api-key

# Alpha Vantage
ALPHAVANTAGE_API_KEY=your-alphavantage-api-key

# Fixer.io
FIXER_API_KEY=your-fixer-api-key

# Open Exchange Rates
OPENEXCHANGERATES_APP_ID=your-app-id

# ====================
# SCRAPING
# ====================

# BCV Venezuela
BCV_SCRAPER_ENABLE=true
BCV_UPDATE_INTERVAL=1800  # 30 minutos en segundos
BCV_TIMEOUT=30000

# Monitor Dólar Venezuela
MONITOR_DOLAR_ENABLE=true
MONITOR_DOLAR_URL=https://monitordolarvenezuela.com

# User Agent para scraping
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# ====================
# SCHEDULER
# ====================

# Update frequencies (en segundos)
UPDATE_EXCHANGES_INTERVAL=900      # 15 minutos
UPDATE_BCV_INTERVAL=1800           # 30 minutos
UPDATE_BANKS_INTERVAL=86400        # 24 horas
UPDATE_DISCOVERY_INTERVAL=604800   # 7 días

# Scheduler settings
SCHEDULER_ENABLE=true
SCHEDULER_TIMEZONE=America/Caracas
MAX_CONCURRENT_TASKS=5

# ====================
# MONITORING
# ====================

# Prometheus
PROMETHEUS_ENABLE=true
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_PATH=/metrics

# Grafana
GRAFANA_ENABLE=true
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Logging
LOG_FORMAT=json
LOG_FILE=/var/log/ragsearch1/app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# ====================
# RATE LIMITING
# ====================

RATE_LIMIT_ENABLE=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# ====================
# WEBHOOKS & NOTIFICATIONS
# ====================

# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_ENABLE=false

# Email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@ragsearch1.com
EMAIL_ENABLE=false

# Discord
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK/URL
DISCORD_ENABLE=false

# ====================
# PERFORMANCE
# ====================

# Connection pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Request timeouts
HTTP_TIMEOUT=30
API_REQUEST_TIMEOUT=60
SCRAPER_TIMEOUT=30

# Cache settings
CACHE_ENABLE=true
CACHE_DEFAULT_TTL=3600
CACHE_MAX_ENTRIES=10000

# ====================
# DATA COLLECTION
# ====================

# Countries to index (ISO codes)
COUNTRIES_ENABLED=US,CA,MX,GT,HN,SV,NI,CR,PA,VE,CO,EC,PE,BR,BO,PY,AR,UY,CL,CU,DO,HT

# Entity types to collect
ENTITY_TYPES=bank,exchange,fintech,casa_cambio,wallet,defi

# Initial data load
INITIAL_DATA_LOAD=true
SKIP_EXISTING=true

# ====================
# TESTING
# ====================

TEST_MODE=false
TEST_DATABASE_URL=postgresql://ragsearch1_test:test@localhost/ragsearch1_test
MOCK_EXTERNAL_APIS=false

# ====================
# BACKUP
# ====================

BACKUP_ENABLE=true
BACKUP_INTERVAL=86400  # 24 horas
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backups

# ====================
# FEATURE FLAGS
# ====================

FEATURE_BCV_PANEL=true
FEATURE_REMITTANCE_COMPARISON=true
FEATURE_CRYPTO_TRACKING=true
FEATURE_BLOCKCHAIN_DATA=true
FEATURE_ML_PREDICTIONS=false
FEATURE_REALTIME_UPDATES=true
FEATURE_WEBHOOKS=false

# ====================
# ADVANCED
# ====================

# Vector DB settings
VECTOR_DIMENSION=1536  # OpenAI ada-002
VECTOR_METRIC=cosine
CHUNK_SIZE=500
CHUNK_OVERLAP=50

# Search settings
DEFAULT_SEARCH_LIMIT=10
MAX_SEARCH_LIMIT=100
MIN_SIMILARITY_SCORE=0.7

# RAG settings
RAG_RETRIEVAL_K=5
RAG_RERANK=true
RAG_CONTEXT_WINDOW=4000

# ====================
# DOCKER SPECIFIC
# ====================

# Docker network
DOCKER_NETWORK=ragsearch1_network

# Volume paths
POSTGRES_DATA_PATH=./data/postgres
REDIS_DATA_PATH=./data/redis
CHROMA_DATA_PATH=./data/chromadb
LOG_PATH=./logs

# ====================
# DEVELOPMENT ONLY
# ====================

# Hot reload
RELOAD_DIRS=api,ragsearch1,integrations
RELOAD_DELAY=0.5

# Debug
PROFILE_API=false
PROFILE_OUTPUT=./profiles
SQL_ECHO=false
